<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<pnml>
  <net id="n0">
    <name>
      <text>APDL_FAIL</text>
    </name>
    <import>
      <text>import MBPFE.AlertResponse;
import MBPFE.queries.SAVIER.*;
import MBPFE.workflow.TokenEvaluator;
import java.util.Collections;
import java.util.stream.Stream;
import static MBPFE.utils.Maps.entriesToMap;
import static MBPFE.utils.Maps.entry;</text>
    </import>
    <arc id="o126_t92_p7" source="t92" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="343" y="810"/>
        <position x="670" y="897"/>
      </graphics>
    </arc>
    <arc id="o73_t28_p7" source="t28" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="280" y="585"/>
        <position x="39" y="587"/>
        <position x="45" y="828"/>
        <position x="669" y="901"/>
      </graphics>
    </arc>
    <transition id="t122">
      <graphics>
        <position x="1115" y="875"/>
      </graphics>
      <name>
        <text>AND_JOIN</text>
        <graphics>
          <offset x="80" y="0"/>
        </graphics>
      </name>
      <guard>
        <text>return ANDJoinGuard(this);</text>
      </guard>
      <execution>
        <text>currentCase = ANDJoinWinner</text>
      </execution>
    </transition>
    <arc id="o66_t16_p7" source="t16" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="290" y="234"/>
        <position x="9" y="230"/>
        <position x="9" y="886"/>
        <position x="669" y="903"/>
      </graphics>
    </arc>
    <transition id="t121">
      <graphics>
        <position x="405" y="745"/>
      </graphics>
      <name>
        <text>SUPERVISION:A/V Aborts Take Off (NOT FULFILLED)</text>
        <graphics>
          <offset x="100" y="20"/>
        </graphics>
      </name>
      <guard>
        <text>return (
!evaluateInputTokens(this,new TokenEvaluator(){
public boolean evaluate(Token token) {
return (
SAVIERSupervisions.UAVAbortsTakeOff(
(AlertResponse) token.getObject(),
token.getTimestamp(),
null
))!=null;
}
})
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(
currentCase.getObject(),
((AlertResponse) currentCase.getObject()).getAlert().getEndTime()
)</text>
      </execution>
    </transition>
    <transition id="t123">
      <graphics>
        <position x="1285" y="725"/>
      </graphics>
      <name>
        <text>ACTION:Change to G-PDL Omnidirect</text>
        <graphics>
          <offset x="150" y="10"/>
        </graphics>
      </name>
      <guard>
        <text>return (
evaluateInputTokens(this,new TokenEvaluator(){
public boolean evaluate(Token token) {
return (
getActionTriggerTimestamp(
(AlertResponse) token.getObject(),
token.getTimestamp(),
null,
null,
SAVIERActions::changeToGPDLOmnidirectAntenna
))!=null;
}
})
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(
currentCase.getObject(),
SAVIERActions.changeToGPDLOmnidirectAntenna(
(AlertResponse) currentCase.getObject(),
currentCase.getTimestamp(),
null,
null)
)</text>
      </execution>
    </transition>
    <arc id="i80_p47_t74" source="p47" target="t74">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="910" y="446"/>
        <position x="1060" y="453"/>
      </graphics>
    </arc>
    <arc id="i84_p45_t75" source="p45" target="t75">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="910" y="303"/>
        <position x="1060" y="296"/>
      </graphics>
    </arc>
    <arc id="o54_t23_p47" source="t23" target="p47">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="580" y="445"/>
        <position x="859" y="445"/>
      </graphics>
    </arc>
    <transition id="t115">
      <graphics>
        <position x="1015" y="775"/>
      </graphics>
      <name>
        <text>ACTION:LANDING</text>
        <graphics>
          <offset x="-60" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return (
evaluateInputTokens(this,new TokenEvaluator(){
public boolean evaluate(Token token) {
return (
getActionTriggerTimestamp(
(AlertResponse) token.getObject(),
token.getTimestamp(),
null,
Collections.unmodifiableMap(Stream.of(entry("mode", 19)).collect(entriesToMap())),
SAVIERActions::vehicleOperatingModeCommand
))!=null;
}
})
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(
currentCase.getObject(),
SAVIERActions.vehicleOperatingModeCommand(
(AlertResponse) currentCase.getObject(),
currentCase.getTimestamp(),
null,
Collections.unmodifiableMap(Stream.of(entry("mode", 19)).collect(entriesToMap()))
))</text>
      </execution>
    </transition>
    <transition id="t114">
      <graphics>
        <position x="1145" y="685"/>
      </graphics>
      <name>
        <text>ACTION:ARMED CONVENTIONAL LANDING</text>
        <graphics>
          <offset x="-120" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return (
evaluateInputTokens(this,new TokenEvaluator(){
public boolean evaluate(Token token) {
return (
getActionTriggerTimestamp(
(AlertResponse) token.getObject(),
token.getTimestamp(),
null,
Collections.unmodifiableMap(Stream.of(entry("mode", 54)).collect(entriesToMap())),
SAVIERActions::vehicleOperatingModeCommand
))!=null;
}
})
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(
currentCase.getObject(),
SAVIERActions.vehicleOperatingModeCommand(
(AlertResponse) currentCase.getObject(),
currentCase.getTimestamp(),
null,
Collections.unmodifiableMap(Stream.of(entry("mode", 54)).collect(entriesToMap()))
))</text>
      </execution>
    </transition>
    <arc id="o110_t101_p106" source="t101" target="p106">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1285" y="260"/>
        <position x="1285" y="299"/>
      </graphics>
    </arc>
    <arc id="i123_p124_t122" source="p124" target="t122">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="1048" y="845"/>
        <position x="1103" y="870"/>
      </graphics>
    </arc>
    <arc id="o127_t115_p124" source="t115" target="p124">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1015" y="780"/>
        <position x="1020" y="809"/>
      </graphics>
    </arc>
    <arc id="o121_t123_p119" source="t123" target="p119">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1280" y="730"/>
        <position x="1222" y="795"/>
      </graphics>
    </arc>
    <arc id="o69_t19_p7" source="t19" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="270" y="305"/>
        <position x="14" y="310"/>
        <position x="15" y="878"/>
        <position x="669" y="903"/>
      </graphics>
    </arc>
    <arc id="o50_t17_p44" source="t17" target="p44">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="570" y="235"/>
        <position x="859" y="235"/>
      </graphics>
    </arc>
    <arc id="o118_t114_p116" source="t114" target="p116">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1138" y="690"/>
        <position x="1104" y="718"/>
      </graphics>
    </arc>
    <arc id="i120_p109_t123" source="p109" target="t123">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="1377" y="623"/>
        <position x="1289" y="720"/>
      </graphics>
    </arc>
    <transition id="t107">
      <graphics>
        <position x="1285" y="425"/>
      </graphics>
      <name>
        <text>AND SPLIT</text>
        <graphics>
          <offset x="60" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return true;</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="i8_p1_t5" source="p1" target="t5">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="409" y="85"/>
        <position x="378" y="130"/>
      </graphics>
    </arc>
    <arc id="i33_p13_t20" source="p13" target="t20">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="399" y="349"/>
        <position x="330" y="360"/>
      </graphics>
    </arc>
    <transition id="t5">
      <graphics>
        <position x="375" y="135"/>
      </graphics>
      <name>
        <text>CHECK:Phase=TakeOffRunActionsBeforeVROT (FULFILLED)</text>
        <graphics>
          <offset x="-120" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return SAVIERChecks.isFlightPhaseTakeOffRunActionsBeforeVROT(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="i119_p116_t115" source="p116" target="t115">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="1062" y="747"/>
        <position x="1023" y="770"/>
      </graphics>
    </arc>
    <transition id="t6">
      <graphics>
        <position x="485" y="135"/>
      </graphics>
      <name>
        <text>CHECK:Phase=ActionsInAnyOtherPhase (FULFILLED)</text>
        <graphics>
          <offset x="150" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return !SAVIERChecks.isFlightPhaseTakeOffRunActionsBeforeVROT(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="o111_t6_p11" source="t6" target="p11">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="486" y="140"/>
        <position x="495" y="182"/>
        <position x="449" y="196"/>
      </graphics>
    </arc>
    <arc id="o65_t6_p26" source="t6" target="p26">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="484" y="140"/>
        <position x="484" y="536"/>
        <position x="449" y="546"/>
      </graphics>
    </arc>
    <arc id="o71_t22_p7" source="t22" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="280" y="435"/>
        <position x="26" y="438"/>
        <position x="30" y="852"/>
        <position x="669" y="902"/>
      </graphics>
    </arc>
    <transition id="t74">
      <graphics>
        <position x="1085" y="455"/>
      </graphics>
      <name>
        <text>PassChecks</text>
        <graphics>
          <offset x="40" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return ANDJoinGuard(this);</text>
      </guard>
      <execution>
        <text>currentCase = ANDJoinWinner</text>
      </execution>
    </transition>
    <arc id="o112_t107_p109" source="t107" target="p109">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1288" y="430"/>
        <position x="1381" y="583"/>
      </graphics>
    </arc>
    <transition id="t75">
      <graphics>
        <position x="1085" y="295"/>
      </graphics>
      <name>
        <text>PassChecks</text>
        <graphics>
          <offset x="50" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return ANDJoinGuard(this);</text>
      </guard>
      <execution>
        <text>currentCase = ANDJoinWinner</text>
      </execution>
    </transition>
    <arc id="i81_p48_t74" source="p48" target="t74">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="909" y="507"/>
        <position x="1068" y="460"/>
      </graphics>
    </arc>
    <arc id="i76_p44_t74" source="p44" target="t74">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="902" y="254"/>
        <position x="1080" y="450"/>
      </graphics>
    </arc>
    <arc id="i40_p26_t27" source="p26" target="t27">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="449" y="561"/>
        <position x="525" y="580"/>
      </graphics>
    </arc>
    <arc id="o51_t18_p45" source="t18" target="p45">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="570" y="304"/>
        <position x="859" y="304"/>
      </graphics>
    </arc>
    <arc id="i31_p12_t19" source="p12" target="t19">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="400" y="281"/>
        <position x="316" y="300"/>
      </graphics>
    </arc>
    <arc id="i95_p90_t92" source="p90" target="t92">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="267" y="697"/>
        <position x="322" y="800"/>
      </graphics>
    </arc>
    <arc id="o124_t74_p90" source="t74" target="p90">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1084" y="460"/>
        <position x="1067" y="626"/>
        <position x="262" y="626"/>
        <position x="259" y="649"/>
      </graphics>
    </arc>
    <arc id="i115_p89_t101" source="p89" target="t101">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="1190" y="75"/>
        <position x="1282" y="76"/>
        <position x="1284" y="250"/>
      </graphics>
    </arc>
    <arc id="i122_p90_t121" source="p90" target="t121">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="278" y="686"/>
        <position x="394" y="740"/>
      </graphics>
    </arc>
    <place id="p89">
      <graphics>
        <position x="1165" y="75"/>
      </graphics>
      <name>
        <text>p89</text>
        <graphics>
          <offset x="50" y="-10"/>
        </graphics>
      </name>
    </place>
    <arc id="i124_p119_t122" source="p119" target="t122">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="1183" y="829"/>
        <position x="1122" y="870"/>
      </graphics>
    </arc>
    <arc id="i117_p108_t114" source="p108" target="t114">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="1165" y="628"/>
        <position x="1146" y="680"/>
      </graphics>
    </arc>
    <place id="p90">
      <graphics>
        <position x="255" y="675"/>
      </graphics>
      <name>
        <text>p90</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <arc id="o125_t122_p7" source="t122" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1115" y="880"/>
        <position x="1115" y="909"/>
        <position x="720" y="905"/>
      </graphics>
    </arc>
    <arc id="o72_t24_p7" source="t24" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="290" y="506"/>
        <position x="32" y="518"/>
        <position x="37" y="840"/>
        <position x="669" y="902"/>
      </graphics>
    </arc>
    <transition id="t92">
      <graphics>
        <position x="325" y="805"/>
      </graphics>
      <name>
        <text>SUPERVISION:A/V Aborts Take Off (FULFILLED)</text>
        <graphics>
          <offset x="-120" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return (
evaluateInputTokens(this,new TokenEvaluator(){
public boolean evaluate(Token token) {
return (
SAVIERSupervisions.UAVAbortsTakeOff(
(AlertResponse) token.getObject(),
token.getTimestamp(),
null
))!=null;
}
})
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(
currentCase.getObject(),
SAVIERSupervisions.UAVAbortsTakeOff(
(AlertResponse) currentCase.getObject(),
currentCase.getTimestamp(),
null)
)</text>
      </execution>
    </transition>
    <arc id="i9_p1_t6" source="p1" target="t6">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="441" y="84"/>
        <position x="480" y="130"/>
      </graphics>
    </arc>
    <arc id="o125_t6_p15" source="t6" target="p15">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="484" y="140"/>
        <position x="483" y="472"/>
        <position x="449" y="479"/>
      </graphics>
    </arc>
    <place id="p12">
      <graphics>
        <position x="425" y="275"/>
      </graphics>
      <name>
        <text>p12</text>
        <graphics>
          <offset x="51" y="4"/>
        </graphics>
      </name>
    </place>
    <place id="p11">
      <graphics>
        <position x="425" y="205"/>
      </graphics>
      <name>
        <text>p11</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <place id="p14">
      <graphics>
        <position x="425" y="415"/>
      </graphics>
      <name>
        <text>p14</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <arc id="i39_p26_t28" source="p26" target="t28">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="400" y="561"/>
        <position x="324" y="580"/>
      </graphics>
    </arc>
    <place id="p13">
      <graphics>
        <position x="425" y="345"/>
      </graphics>
      <name>
        <text>p13</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <place id="p15">
      <graphics>
        <position x="425" y="485"/>
      </graphics>
      <name>
        <text>p15</text>
        <graphics>
          <offset x="51" y="4"/>
        </graphics>
      </name>
    </place>
    <place id="p116">
      <graphics>
        <position x="1085" y="735"/>
      </graphics>
      <name>
        <text>p116</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <arc id="i32_p12_t18" source="p12" target="t18">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="449" y="281"/>
        <position x="525" y="300"/>
      </graphics>
    </arc>
    <transition id="t16">
      <graphics>
        <position x="315" y="235"/>
      </graphics>
      <name>
        <text>CHECK:HMP:PDL_UP=0% (NOT FULFILLED)</text>
        <graphics>
          <offset x="-70" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return !SAVIERChecks.PDLUPshow0InCoverageRedColor(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="i36_p14_t23" source="p14" target="t23">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="449" y="421"/>
        <position x="532" y="440"/>
      </graphics>
    </arc>
    <place id="p119">
      <graphics>
        <position x="1205" y="815"/>
      </graphics>
      <name>
        <text>p119</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <transition id="t18">
      <graphics>
        <position x="545" y="305"/>
      </graphics>
      <name>
        <text>CHECK:HMP:PDL_Status=FAIL (FULFILLED)</text>
        <graphics>
          <offset x="110" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return SAVIERChecks.PDLStatusIsFail(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <transition id="t17">
      <graphics>
        <position x="545" y="235"/>
      </graphics>
      <name>
        <text>CHECK:HMP:PDL_UP=0% (FULFILLED)</text>
        <graphics>
          <offset x="91" y="-16"/>
        </graphics>
      </name>
      <guard>
        <text>return SAVIERChecks.PDLUPshow0InCoverageRedColor(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="i111_p106_t107" source="p106" target="t107">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="1285" y="351"/>
        <position x="1285" y="420"/>
      </graphics>
    </arc>
    <arc id="o57_t5_p12" source="t5" target="p12">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="375" y="140"/>
        <position x="377" y="261"/>
        <position x="400" y="267"/>
      </graphics>
    </arc>
    <transition id="t19">
      <graphics>
        <position x="295" y="305"/>
      </graphics>
      <name>
        <text>CHECK:HMP:PDL_Status=FAIL (NOT FULFILLED)</text>
        <graphics>
          <offset x="-50" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return !SAVIERChecks.PDLStatusIsFail(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="o59_t5_p14" source="t5" target="p14">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="375" y="140"/>
        <position x="379" y="385"/>
        <position x="403" y="400"/>
      </graphics>
    </arc>
    <arc id="o58_t5_p13" source="t5" target="p13">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="375" y="140"/>
        <position x="375" y="324"/>
        <position x="401" y="334"/>
      </graphics>
    </arc>
    <arc id="i77_p45_t74" source="p45" target="t74">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="905" y="320"/>
        <position x="1078" y="450"/>
      </graphics>
    </arc>
    <arc id="o55_t25_p48" source="t25" target="p48">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="580" y="515"/>
        <position x="859" y="515"/>
      </graphics>
    </arc>
    <arc id="i87_p48_t75" source="p48" target="t75">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="902" y="495"/>
        <position x="1080" y="300"/>
      </graphics>
    </arc>
    <arc id="i79_p46_t74" source="p46" target="t74">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="908" y="384"/>
        <position x="1072" y="450"/>
      </graphics>
    </arc>
    <transition id="t21">
      <graphics>
        <position x="545" y="375"/>
      </graphics>
      <name>
        <text>CHECK:HMP:GO_STATUS=NO-GO (FULFILLED)</text>
        <graphics>
          <offset x="111" y="-16"/>
        </graphics>
      </name>
      <guard>
        <text>return SAVIERChecks.GOStatusIsNOGO(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <transition id="t20">
      <graphics>
        <position x="305" y="365"/>
      </graphics>
      <name>
        <text>CHECK:HMP:GO_STATUS=NO-GO (NOT FULFILLED)</text>
        <graphics>
          <offset x="-60" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return !SAVIERChecks.GOStatusIsNOGO(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="o123_t75_p89" source="t75" target="p89">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1084" y="290"/>
        <position x="1082" y="75"/>
        <position x="1139" y="75"/>
      </graphics>
    </arc>
    <arc id="i29_p11_t16" source="p11" target="t16">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="400" y="211"/>
        <position x="332" y="230"/>
      </graphics>
    </arc>
    <place id="p106">
      <graphics>
        <position x="1285" y="325"/>
      </graphics>
      <name>
        <text>p106</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <transition id="t23">
      <graphics>
        <position x="555" y="445"/>
      </graphics>
      <name>
        <text>CHECK:HMP:FLIGHT MODE=TAKE OFF ARMED (FULFILLED)</text>
        <graphics>
          <offset x="150" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return SAVIERChecks.flightModeIsTakeOffArmed(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <place id="p26">
      <graphics>
        <position x="425" y="555"/>
      </graphics>
      <name>
        <text>p26</text>
        <graphics>
          <offset x="51" y="4"/>
        </graphics>
      </name>
    </place>
    <transition id="t22">
      <graphics>
        <position x="305" y="435"/>
      </graphics>
      <name>
        <text>CHECK:HMP:FLIGHT MODE=TAKE OFF ARMED (NOT FULFILLED)</text>
        <graphics>
          <offset x="-70" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return !SAVIERChecks.flightModeIsTakeOffArmed(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <transition id="t25">
      <graphics>
        <position x="555" y="515"/>
      </graphics>
      <name>
        <text>CHECK:HMP:PDL Air antenna is displaed in red (FULFILLED)</text>
        <graphics>
          <offset x="110" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return SAVIERChecks.PDLAirAntennaIsDisplayedInRed(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="o56_t27_p49" source="t27" target="p49">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="570" y="585"/>
        <position x="859" y="585"/>
      </graphics>
    </arc>
    <transition id="t24">
      <graphics>
        <position x="315" y="505"/>
      </graphics>
      <name>
        <text>CHECK:HMP:PDL Air antenna is displayed in red (NOT FULFILLED)</text>
        <graphics>
          <offset x="-80" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return !SAVIERChecks.PDLAirAntennaIsDisplayedInRed(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <transition id="t27">
      <graphics>
        <position x="545" y="585"/>
      </graphics>
      <name>
        <text>CHECK:HMP:GO STATUS is GO (FULFILLED)</text>
        <graphics>
          <offset x="101" y="-16"/>
        </graphics>
      </name>
      <guard>
        <text>return !SAVIERChecks.GOStatusIsNOGO(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="i30_p11_t17" source="p11" target="t17">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="449" y="211"/>
        <position x="525" y="230"/>
      </graphics>
    </arc>
    <place id="p109">
      <graphics>
        <position x="1395" y="605"/>
      </graphics>
      <name>
        <text>p109</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <place id="p108">
      <graphics>
        <position x="1175" y="605"/>
      </graphics>
      <name>
        <text>p108</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <transition id="t28">
      <graphics>
        <position x="305" y="585"/>
      </graphics>
      <name>
        <text>CHECK:HMP:GO STATUS is GO (NOT FULFILLED)</text>
        <graphics>
          <offset x="-60" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return SAVIERChecks.GOStatusIsNOGO(
(AlertResponse) getTokenSet().get(0).getObject(), 
getTokenSet().get(0).getTimestamp()
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(currentCase.getObject(),currentCase.getTimestamp())</text>
      </execution>
    </transition>
    <arc id="o52_t21_p46" source="t21" target="p46">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="570" y="375"/>
        <position x="859" y="375"/>
      </graphics>
    </arc>
    <arc id="i38_p15_t25" source="p15" target="t25">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="449" y="491"/>
        <position x="532" y="510"/>
      </graphics>
    </arc>
    <place id="p1">
      <graphics>
        <position x="425" y="65"/>
      </graphics>
      <name>
        <text>input</text>
        <graphics>
          <offset x="60" y="-20"/>
        </graphics>
      </name>
    </place>
    <place id="p7">
      <graphics>
        <position x="695" y="905"/>
      </graphics>
      <name>
        <text>output</text>
        <graphics>
          <offset x="60" y="20"/>
        </graphics>
      </name>
    </place>
    <transition id="t101">
      <graphics>
        <position x="1285" y="255"/>
      </graphics>
      <name>
        <text>ACTION:GO-WP(IAF)</text>
        <graphics>
          <offset x="80" y="-20"/>
        </graphics>
      </name>
      <guard>
        <text>return (
evaluateInputTokens(this,new TokenEvaluator(){
public boolean evaluate(Token token) {
return (
getActionTriggerTimestamp(
(AlertResponse) token.getObject(),
token.getTimestamp(),
null,
Collections.unmodifiableMap(Stream.of(entry("waypointNumber", 4)).collect(entriesToMap())),
SAVIERActions::commandWaypoint
))!=null;
}
})
);</text>
      </guard>
      <execution>
        <text>currentCase = new Token(
currentCase.getObject(),
SAVIERActions.commandWaypoint(
(AlertResponse) currentCase.getObject(),
currentCase.getTimestamp(),
null,
Collections.unmodifiableMap(Stream.of(entry("waypointNumber", 4)).collect(entriesToMap()))
))</text>
      </execution>
    </transition>
    <arc id="o60_t5_p15" source="t5" target="p15">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="375" y="140"/>
        <position x="379" y="460"/>
        <position x="402" y="472"/>
      </graphics>
    </arc>
    <arc id="o42_t5_p11" source="t5" target="p11">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="375" y="140"/>
        <position x="375" y="168"/>
        <position x="404" y="189"/>
      </graphics>
    </arc>
    <arc id="o113_t6_p12" source="t6" target="p12">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="485" y="140"/>
        <position x="490" y="254"/>
        <position x="449" y="266"/>
      </graphics>
    </arc>
    <arc id="i35_p14_t22" source="p14" target="t22">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="399" y="419"/>
        <position x="330" y="430"/>
      </graphics>
    </arc>
    <arc id="i88_p49_t75" source="p49" target="t75">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="899" y="563"/>
        <position x="1081" y="300"/>
      </graphics>
    </arc>
    <arc id="i83_p44_t75" source="p44" target="t75">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="909" y="242"/>
        <position x="1068" y="290"/>
      </graphics>
    </arc>
    <arc id="o125_t121_p89" source="t121" target="p89">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="409" y="740"/>
        <position x="489" y="641"/>
        <position x="1110" y="624"/>
        <position x="1176" y="429"/>
        <position x="1166" y="100"/>
      </graphics>
    </arc>
    <arc id="i34_p13_t21" source="p13" target="t21">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="449" y="351"/>
        <position x="525" y="370"/>
      </graphics>
    </arc>
    <place id="p45">
      <graphics>
        <position x="885" y="305"/>
      </graphics>
      <name>
        <text>p45</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <place id="p124">
      <graphics>
        <position x="1025" y="835"/>
      </graphics>
      <name>
        <text>p124</text>
        <graphics>
          <offset x="50" y="-10"/>
        </graphics>
      </name>
    </place>
    <place id="p44">
      <graphics>
        <position x="885" y="235"/>
      </graphics>
      <name>
        <text>p44</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <arc id="o111_t107_p108" source="t107" target="p108">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="1281" y="430"/>
        <position x="1188" y="583"/>
      </graphics>
    </arc>
    <place id="p47">
      <graphics>
        <position x="885" y="445"/>
      </graphics>
      <name>
        <text>p47</text>
        <graphics>
          <offset x="54" y="0"/>
        </graphics>
      </name>
    </place>
    <place id="p46">
      <graphics>
        <position x="885" y="375"/>
      </graphics>
      <name>
        <text>p46</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <place id="p49">
      <graphics>
        <position x="885" y="585"/>
      </graphics>
      <name>
        <text>p49</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <place id="p48">
      <graphics>
        <position x="885" y="515"/>
      </graphics>
      <name>
        <text>p48</text>
        <graphics>
          <offset x="50" y="0"/>
        </graphics>
      </name>
    </place>
    <arc id="o70_t20_p7" source="t20" target="p7">
      <expression>
        <text>currentCase.getObject()@currentCase.getTimestamp()</text>
      </expression>
      <graphics>
        <position x="280" y="365"/>
        <position x="20" y="369"/>
        <position x="23" y="865"/>
        <position x="669" y="903"/>
      </graphics>
    </arc>
    <arc id="i37_p15_t24" source="p15" target="t24">
      <expression>
        <text>getTokenSet().size()&gt;0</text>
      </expression>
      <expression>
        <text>currentCase = getTokenSet().get(0)</text>
      </expression>
      <graphics>
        <position x="399" y="489"/>
        <position x="340" y="500"/>
      </graphics>
    </arc>
  </net>
</pnml>
